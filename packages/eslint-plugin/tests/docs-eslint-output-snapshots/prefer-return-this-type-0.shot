Incorrect

class Foo {
  f1(): Foo {
        ~~~ Use `this` type instead.
    return this;
  }
  f2 = (): Foo => {
           ~~~ Use `this` type instead.
    return this;
  };
  f3(): Foo | undefined {
    return Math.random() > 0.5 ? this : undefined;
  }
}
