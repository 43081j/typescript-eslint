Options: { "allowMappedTypes": "in-unions" }

type Foo<T> = { readonly [P in keyof T]: T[P] };
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Type mapped types are not allowed.

type Foo<T> = { [P in keyof T]?: T[P] };
              ~~~~~~~~~~~~~~~~~~~~~~~~~ Type mapped types are not allowed.

type Foo<T, U> = { readonly [P in keyof T]: T[P] } & {
                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Mapped types in intersection types are not allowed.
                                                     ~ Mapped types in intersection types are not allowed.
  readonly [P in keyof U]: U[P];
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
};
~

type Foo<T, U> = { [P in keyof T]?: T[P] } & { [P in keyof U]?: U[P] };
                 ~~~~~~~~~~~~~~~~~~~~~~~~~ Mapped types in intersection types are not allowed.
                                             ~~~~~~~~~~~~~~~~~~~~~~~~~ Mapped types in intersection types are not allowed.
